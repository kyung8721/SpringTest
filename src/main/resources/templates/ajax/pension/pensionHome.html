<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>통나무 팬션</title>
<!-- bootstrap CDN link -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="/css/pension/style.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
</head>
<body>
	<div class="d-flex justify-content-center">
		<div class="" id="wrap">
			<header class="d-flex justify-content-center align-items-center">
				<a href="/ajax/pension/home" class="link-underline link-underline-opacity-0 text-dark"><h1>통나무 팬션</h1></a>
			</header>
			
			<div class="d-flex" id="menu">
				<ul class="nav text-center d-flex align-items-center">
					<li class="menuList nav-item ">
						<a class="nav-link text-light" href="#">팬션소개</a>
					</li>
					<li class="menuList nav-item ">
						<a class="nav-link text-light" href="#">객실보기</a>
					</li>
					<li class="menuList nav-item">
						<a class="nav-link text-light" href="/ajax/pension/book">예약하기</a>
					</li>
					<li class="menuList nav-item">
						<a class="nav-link text-light" href="/ajax/pension/list">예약목록</a>
					</li>
				</ul>
			</div>
			
			<main class="bg-light" id = "mainContents">
				<div id="mainBanner">
					<!-- 메인 사진 배너 -->
					<img src = "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner1.jpg" id="imgBanner">
				</div>
				<div class="d-flex" id="subBanner">
					<!-- 예약화면 -->
					<div class=" col-4 nonClickBanner d-flex justify-content-center align-items-center">
						<div class="display-4 text-light">
							실시간<br>
							예약하기
						</div>
					</div>
					
					<div class="col-5 bookingBanner text-light">
						<div class=" d-flex mt-3">
							<!-- 회원 확인 -->
							<h4>예약 확인</h4>
							
							<!-- <label class="ml-3 align-self-end">회원<input type = "radio" name="member" value = "member" class="ml-2" checked></label>
							<label class="ml-3 align-self-end">비 회원<input type = "radio" name="member" value = "nonmember" class="ml-2"></label>
							 -->
						</div>
						<div>
						
							<div id="memberInput"> <!-- 이름, 전화번호 입력 -->
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">이름</label> <input type="text" class="form-control col-8" id="name">
								</div>
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">전화번호</label> <input type="text" class="form-control col-8" id="phoneNumber">
								</div>
							</div>
							
							<!-- <div id="memberInput"> 아이디, 비밀번호 입력
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">아이디</label> <input type="text" class="form-control col-8">
								</div>
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">비밀번호</label> <input type="text" class="form-control col-8">
								</div>
							</div>
							
							
							<div id="nonmemberInput" class="">이름, 전화번호, 날짜 입력
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">이름</label> <input type="text" class="form-control col-8">
								</div>
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">전화번호</label> <input type="text" class="form-control col-8">
								</div>
								<div class="d-flex align-items-center mt-3">
									<label class="col-3 d-flex justify-content-center">날짜</label> <input type="text" class="form-control col-8" id="datepicker">
								</div>
							</div>
							
							  -->
							
							<div class=" d-flex justify-content-end">
									<button type="button" class="btn btn-success mt-3" id="checkBtn">조회 하기</button>
							</div>
						</div>
					</div>
					
					<div class="col-3 nonClickBanner text-light d-flex justify-content-center align-items-center">
						<div>
							<h4>예약문의:</h4>
							<h2>
								010-<br>
								000-1111
							</h2>
						</div>
					</div>
				</div>
			</main>
			
			<footer class="">
				<div class="text-secondary">
					제주특별자치도 제주시 애월읍<br>
					사업자 등록번호 : 111-22-255222 / 농어촌민박사업자지정 / 대표:김동욱<br>
					Copyright 2025 tongnamu All right reserved
				</div>
			</footer>
		</div>
	</div>
	
	
	
	
	
	<script
	  src="https://code.jquery.com/jquery-3.7.1.min.js"
	  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
	  crossorigin="anonymous">
	</script>
	
	
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
    	$(document).ready(function(){
    		
    		// 예약확인
    		$("#checkBtn").on("click", function(){
    			let name = $("#name").val();
    			let phoneNumber = $("#phoneNumber").val();
    			
    			// 유효성 검사
    			if(name ==""){
    				alert("이름을 입력하세요");
    				return ;
    			}
    			if(phoneNumber == ""){
    				alert("전화번호를 입력하세요");
    				return ;
    			}
    			
    			//ajax
    			$.ajax({
    				type : "get"
    				, url : "/ajax/pension/check"
    				, data : {"name" : name, "phoneNumber" : phoneNumber}
    				, success : function(data){
    					if(data.result == "success"){
    						let name = data.booking.name;
    						let date = data.booking.date;
    						let day = data.booking.day;
    						let headcount = data.booking.headcount;
    						let state = data.booking.state;
    						
    						alert("이름 : " + name
    								+ "\n날짜 : " + date
    								+ "\n일수 : " + day
    								+ "\n인원 : " + headcount
    								+ "\n상태 : " + state);
    					}else{
    						alert("조회 결과가 없습니다");
    					}
    				} // success 종료
    				, error : function(){
    					alert("데이터 전달 실패!");
    				} // error 종료
    			}); // 예약확인 ajax 종료
    		});// 예약확인 종료
    		
    		// 데이트 피커
    		$( "#datepicker" ).datepicker({
    	        minDate:0,
    	        dayNamesMin:['월', '화', '수', '목', '금', '토', '일'],
    	        dateFormat: "yy년 m월 d일"
    	    });// 데이트피커 이벤트 끝
    		
    		// 회원일 때 보이는 값과 비회원일 때 보이는 값 조절
    		/*
    		$("#nonmemberInput").hide();
    		$("input[name='member']").on('change', function() {
                if($(this).val() == 'member') {
                    $("#memberInput").show();
                    $("#nonmemberInput").hide();
                } else {
                    $("#nonmemberInput").show();
                    $("#memberInput").hide();
                }
            });
    		*/
    		
    		
    		var bannerList = ["http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner1.jpg", "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner2.jpg", "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner3.jpg", "http://marondal.com/material/images/dulumary/web/front/jquery/test06_banner4.jpg"];
    		var currentImgIndex = 0;
    		
    		setInterval(function(){
    			$("#imgBanner").attr("src", bannerList[currentImgIndex]);
    			currentImgIndex++;
    			
    			if(currentImgIndex == bannerList.length){
    				currentImgIndex = 0;
    			}
    			
    		}, 3000); // 배너이미지 교체 이벤트 끝
    		
    	});//문서 준비 끝
    </script>
      
    
</body>
</html>